
# 概念

本质上，webpack是一个现代 JavaScript 应用程序的 静态模块打包器（module bundler）.当webpack处理应用程序时，它会递归地构建一个依赖关系图（dependency graph）, 其中包括应用程序的每个模块，然后将所有这些模块打包成一个或多个bundle。

从webpack v4.0.0开始，可以不用引入一个配置文件，然而，webpack还是高度可配置的。

在开始之前先理解四个 ***核心概念*** ：

- 入口（entry）
- 输出（output）
- loader
- 插件（plugins）

## 入口(entry)

入口起点（entry point）指示webpack应该使用哪个模块，来作为构建内部依赖图的开始。
进入入口起点后，webpack会找出有哪些模块和库是入口起点（直接和间接）依赖的。每个依赖随即被处理，最后输出到称之为bundles的文件中。

**demo**

webpack.co0nfig.js

```js
module.exports={
    entry:'./path/to/my/entry/file.js'
};
```

## 出口(output)

output属性告诉我们webpack在哪里输出它创建的bundle文件，以及如何命名这些文件，默认值为 ./dist 。
基本上，整个应用程序结构，都会被编译到你指定的输出路径的文件夹中。

**demo**
webpack.config.js

```js
const path = require('path');
module.exports={
    entry:'./path/to/my/entry/file.js',
    output:{
        path:path.resolve(__dirname, 'dist'),
        filename:'my-first-webpack.bundle.js'
    }
};
```


## loader

loader让webpack能够去处理那些非JavaScript文件（webpack自身只理解JavaScript）。loader可以将所有类型的文件转换成webpack能够理解的有效模块，然后你就可以用webpack的打包能力，对它们进行处理。


本质上，webpack loader将所有类型的文件，转换为应用程序的依赖图可以寄直接引用的模块。
在更高层面，在webpack中配置loader有两个目标：

1. test属性，用户标识出应该被对应的loader进行转换的某个或者某些文件
2. use属性，表示进行转换时，应该使用哪个loader

webpack.config.js

```js
const path = require('path');
const config={
    output:{
        path:path.resolve(__dirname, 'dist'),
        filename:'my-first-webpack.bundle.js',
    },
    module:{
        rules:[
            {
                test:'/\.txt$/',
                use:'raw-loader'
            }
        ]
    }
};
module.exports=config;
```
这告诉webpack编译器（compiler）如下信息：
> 嘿，webpack编译器 ，当你碰到 在require()/import 词句中被解析为'.txt'的路径时，在你对它打包之前，先使用 raw-loader转换一下。

## 插件（plugins）

loader被用于转换某些类型的模块，而插件则可以用于执行范围更广的任务。
插件的范围包括，从打包优化和压缩，一直到重新定义环境中的变量。插件接口功能极其强大，可以用来处理各种各样的任务。

想要使用一个插件，你只需要require()它，然后把它添加到plugins数组中。多数插件可以通过选项option自定义，你可以在一个配置文件中因为不同目的而多次使用一个插件，这时就需要使用new 操作符来创建一个实例。

webpack.congfig.js
```js
const HtmlwebpackPlugin = require('html-webpack-plugin');
const webpack = require('webpack');
const config={
    module:{
        rules:[
            {
                test:'/\.txt$/',
                use:'raw-loader'
            }
        ]
    },
    plugins:[
        new HtmlwebpackPlugin({template:'./src/index.html'})
    ]
};
module.exports=config;
```



